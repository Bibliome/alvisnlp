<?xml version="1.0"?>
<!--
Copyright 2016, 2017 Institut National de la Recherche Agronomique

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

        http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->

<alvisnlp-doc target="fr.inra.maiage.bibliome.alvisnlp.bibliomefactory.modules.trie.SimpleProjector2" author="" date="">
  <synopsis>
    <p>Search in the sections content for entries specified in a tabular text file.</p>
  </synopsis>

  <module-doc>
    <description>
      <p><this/> reads a list of entries from <param name="dictFile"/> and searches for each entry key in sections contents. The format of the dictionary is one entry per line. Each line is split into columns separated by tab characters. The column specified by <param name="keyIndex"/> will be the entry key to be searched and the other columns are data associated to the entry.</p>
      <p>The parameters <param name="skipBlank"/>, <param name="skipEmpty"/>, <param name="strictColumnNumber"/>, <param name="trimColumns"/>, <param name="separator"/>, <param name="multipleEntryBehaviour"/> control how the dictionary file is read by <this/>.</p>
      <p>The parameters <param name="allowJoined"/>, <param name="allUpperCaseInsensitive"/>, <param name="caseInsensitive"/>, <param name="ignoreDiacritics"/>, <param name="joinDash"/>, <param name="matchStartCaseInsensitive"/>, <param name="skipConsecutiveWhitespaces"/>, <param name="skipWhitespace"/> and <param name="wordStartCaseInsensitive"/> control how the keys can match the sections content.</p>
      <p>The <param name="subject"/> parameter specifies which text of the section should be matched. There are two alternatives:
      <ul>
	<li>the entries are matched on the contents of the section (the default), <param name="subject"/> can also control if matches boundaries coincide with word delimiters;</li>
	<li>the entries are matched on the value of a specified feature of annotations in a given layer separated by a whitespace, in this way entries can be searched against word lemmas, for instance.</li>
      </ul>
      </p>
      <p><this/> creates an annotation for each matched key and adds these annotations to the layer specified by <param name="targetLayerName"/>. The created annotations will have features that correspond to the entry columns. Feature keys are specified by <param name="valueFeatures"/>. For instance if <param name="entryFeatureNames"/> is <em>[a,b,c]</em>, then each annotation will have three features named <em>a</em>, <em>b</em> and <em>c</em> with the respective values of the entry's first, second and third columns. A feature name left blank in <param name="entryFeatureNames"/> will not create a feature. Thus, in order to drop the first column of the entry, <param name="valueFeatures"/> should be <em>[,b,c]</em>. In addition, the created annotations will have the constant features specified in <param name="constantAnnotationFeatures"/>.</p>
      <p>If <param name="trieSource"/> is specified, then <this/> assumes that the file contains a compiled version of the dictionary. In this case <param name="dictFile"/> is not read.</p>
      <p>If <param name="trieSink"/> is specified, <this/> writes a compiled version of the dictionary in the file. The use of compiled dictionaries may accelerate the processing for large dictionaries.</p>
    </description>
  
    <param-doc name="skipWhitespace">
      <p>If set to <em>true</em>, then allow arbitrary insertion of whitespace characters in the subject. For instance, the contents <em>amino acid</em> matches the key <em>aminoacid</em>.</p>
    </param-doc>
  
    <param-doc name="strictColumnNumber">
      <p>If set to true, then check that every line in <param name="dictFile"/> has the same number of columns as the number of features specified in <param name="entryFeatureNames"/>.</p>
    </param-doc>
  
    <param-doc name="skipBlank">
      <p>In <param name="dictFile"/>, skip lines that contain only whitespace characters.</p>
    </param-doc>
  
    <param-doc name="constantAnnotationFeatures">
      <p>Constant features to add to each annotation created by <this/>.</p>
    </param-doc>
  
    <param-doc name="subject">
      <p>Specifies the contents to match.</p>
    </param-doc>
  
    <param-doc name="trieSink">
      <p>If set, then <this/> writes the compiled dictionary to the specified file.</p>
    </param-doc>
  
    <param-doc name="wordStartCaseInsensitive">
      <p>If set to <em>true</em>, then allow case folding on the first character of each word.</p>
    </param-doc>
  
    <param-doc name="caseInsensitive">
      <p>If set to <em>true</em>, then allows case folding on all characters.</p>
    </param-doc>
  
    <param-doc name="allowJoined">
      <p>If set to <em>true</em>, then allow arbitrary suppression of whitespace characters in the subject. For instance, the contents <em>aminoacid</em> matches the key <em>amino acid</em>.</p>
    </param-doc>
  
    <param-doc name="trimColumns">
      <p>If set to <em>true</em>, then trim leading and trailing whitespace character from column values in <param name="dictFile"/>.</p>
    </param-doc>
  
    <param-doc name="targetLayerName">
      <p>Name of the layer that contains the match annotations.</p>
    </param-doc>
  
    <param-doc name="dictFile">
      <p>The dictionary.</p>
    </param-doc>
  
    <param-doc name="active">
      <p>This expression is evaluated as a boolean with the corpus as the context element, the module will process the document only if the result is <em>true</em>.</p>
    </param-doc>
  
    <param-doc name="skipEmpty">
      <p>In <param name="dictFile"/>, skip empty lines.</p>
    </param-doc>
  
    <param-doc name="trieSource">
      <p>If set, read the compiled dictionary from the specified file. Compiled dictionaries are usually faster for large dictionaries.</p>
    </param-doc>
  
    <param-doc name="skipConsecutiveWhitespaces">
      <p>If set to <em>true</em>, then allow the insertion of consecutive whitespace characters in the subject. For instance, the contents <em>amino  acid</em> matches the entry <em>amino acid</em>.</p>
    </param-doc>
  
    <param-doc name="separator">
      <p>Specifies the character that separates columns in <param name="dictFile"/>.</p>
    </param-doc>
  
    <param-doc name="documentFilter">
      <p>Only process document that satisfy this expression.</p>
    </param-doc>
  
    <param-doc name="valueFeatures">
      <p>Target features in match annotations. The values are the columns in the entry.</p>
    </param-doc>
  
    <param-doc name="joinDash">
      <p>If set to <em>true</em>, then treat dash characters (-) as whitespace characters with regard to <param name="allowJoined"/>. For instance, the contents <em>aminoacid</em> matches the entry <em>amino-acid</em>.</p>
    </param-doc>
  
    <param-doc name="multipleEntryBehaviour">
      <p>Specifies the behavior if <param name="dictFile"/> contains several entries with the same key.</p>
    </param-doc>
  
    <param-doc name="allUpperCaseInsensitive">
      <p>If set to <em>true</em>, then allow case folding on all characters in words that are all upper case.</p>
    </param-doc>
  
    <param-doc name="sectionFilter">
      <p>Process only sections that satisfy this expression.</p>
    </param-doc>
  
    <param-doc name="ignoreDiacritics">
      <p>If set to <em>true</em>, then allow dicacritic removal on all characters. For instance the contents <em>acide amine</em> matches the key <em>acide amin√©</em>.</p>
    </param-doc>
  
    <param-doc name="matchStartCaseInsensitive">
      <p>If set to <em>true</em>, then allow case folding on the first character of the entry key.</p>
    </param-doc>
  
    <param-doc name="keyIndex">
      <p>Specifies the index of the column that contains the entry key (<em>0</em> is the first).</p>
    </param-doc>
	
	<param-doc name="userFunctions">
	  <p>Set user functions available for this module. If this module is a sequence, then all compounds inherit its functions.</p>
	</param-doc>
  </module-doc>
</alvisnlp-doc>
