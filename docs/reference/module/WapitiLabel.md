<h1 class="module">WapitiLabel</h1>

## Synopsis

Label tokens using a model trained with <a href="../module/WapitiTrain" class="module">WapitiTrain</a>.

**This module is experimental.**

## Description

*WapitiLabel* labels a sequence of tokens with a CRF model trained with <a href="../module/WapitiTrain" class="module">WapitiTrain</a>. The sequences are generated by annotations in <a href="#tokenLayerName" class="param">tokenLayerName</a> segmented with annotations in <a href="#sentenceLayerName" class="param">sentenceLayerName</a>.

<a href="#features" class="param">features</a> must be the same as used in <a href="../module/WapitiTrain" class="module">WapitiTrain</a> but must not include the last one (that represents the label). The predicted label will be stored in the token feature <a href="#labelFeature" class="param">labelFeature</a>.

## Parameters

<h3 name="features" class="param">features</h3>

<div class="param-level param-level-optional">Optional
</div>
<div class="param-type">Type: <a href="../converter/fr.inra.maiage.bibliome.alvisnlp.core.corpus.expressions.Expression%5B%5D" class="converter">Expression[]</a>
</div>
A list of expressions evaluated as strings from the token annotation. The result represents the set of features of each token. For the training phase, the last feature is the label.

<h3 name="labelFeature" class="param">labelFeature</h3>

<div class="param-level param-level-optional">Optional
</div>
<div class="param-type">Type: <a href="../converter/java.lang.String" class="converter">String</a>
</div>
Feature where to write the predicted label.

<h3 name="modelFile" class="param">modelFile</h3>

<div class="param-level param-level-optional">Optional
</div>
<div class="param-type">Type: <a href="../converter/fr.inra.maiage.bibliome.util.files.InputFile" class="converter">InputFile</a>
</div>
Path to the file trained with <a href="../module/WapitiTrain" class="module">WapitiTrain</a>.

<h3 name="wapitiExecutable" class="param">wapitiExecutable</h3>

<div class="param-level param-level-optional">Optional
</div>
<div class="param-type">Type: <a href="../converter/fr.inra.maiage.bibliome.util.files.ExecutableFile" class="converter">ExecutableFile</a>
</div>
Path to the `wapiti` executable.

<h3 name="commandLineOptions" class="param">commandLineOptions</h3>

<div class="param-level param-level-optional">Optional
</div>
<div class="param-type">Type: <a href="../converter/java.lang.String%5B%5D" class="converter">String[]</a>
</div>
Additional command line options to pass to `wapiti`. See the [Wapiti manual](https://wapiti.limsi.fr/manual.html) for the list of options. Note that options `mode`, `-T`, `-a`, `-p`, `-m` are set automatically by *WapitiLabel*.

<h3 name="documentFilter" class="param">documentFilter</h3>

<div class="param-level param-level-default-value">Default value: `true`
</div>
<div class="param-type">Type: <a href="../converter/fr.inra.maiage.bibliome.alvisnlp.core.corpus.expressions.Expression" class="converter">Expression</a>
</div>
Only process document that satisfy this expression.

<h3 name="sectionFilter" class="param">sectionFilter</h3>

<div class="param-level param-level-default-value">Default value: `boolean:and(true, nav:layer:words())`
</div>
<div class="param-type">Type: <a href="../converter/fr.inra.maiage.bibliome.alvisnlp.core.corpus.expressions.Expression" class="converter">Expression</a>
</div>
Process only sections that satisfy this expression.

<h3 name="sentenceLayerName" class="param">sentenceLayerName</h3>

<div class="param-level param-level-default-value">Default value: `sentences`
</div>
<div class="param-type">Type: <a href="../converter/java.lang.String" class="converter">String</a>
</div>
Layer containing sentence annotations.

<h3 name="tokenLayerName" class="param">tokenLayerName</h3>

<div class="param-level param-level-default-value">Default value: `words`
</div>
<div class="param-type">Type: <a href="../converter/java.lang.String" class="converter">String</a>
</div>
Layer containing token annotations.

