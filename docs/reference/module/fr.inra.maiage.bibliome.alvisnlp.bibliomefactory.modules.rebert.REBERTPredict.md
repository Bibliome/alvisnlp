<h1 class="module">REBERTPredict</h1>

## Synopsis

Binary relation extraction using [RE-BERT](https://forgemia.inra.fr/bibliome/re-bert) .

**This module is experimental.**

## Description

 *REBERTPredict* classifies candidate binary relations with ensemble models finetuned with [RE-BERT](https://forgemia.inra.fr/bibliome/re-bert) /

Candidate relations can be either asserted by specifying tuples of a relation, or generated by specifying the set of subject and object arguments, or a combination of both.

 <a href="#assertedCandidates" class="param">assertedCandidates</a> specifies the elements corresponding to asserted candidates. Arguments are specified with <a href="#assertedSubject" class="param">assertedSubject</a> and <a href="#assertedObject" class="param">assertedObject</a> .

 <a href="#candidateGenerationScope" class="param">candidateGenerationScope</a> specifies the scope of generated andidates, *e.g.* documents or sentences. The list of elements corresponding the arguments are specified with <a href="#generatedSubjects" class="param">generatedSubjects</a> and <a href="#generatedObjects" class="param">generatedObjects</a> . For each scope, *REBERTPredict* will generate a candidate for all combinations of subject and object.

The selection of the model is specified with <a href="#modelType" class="param">modelType</a> ( *bert* , *biobert* , or *scibert* ) and <a href="#finetunedModel" class="param">finetunedModel</a> . <a href="#ensembleNumber" class="param">ensembleNumber</a> is the number of models used to make a prediction, <a href="#ensembleNumber" class="param">ensembleNumber</a> must be less or equal than the number of finetuned models. The final prediction is aggregated by vote.

 *REBERTPredict* stores the prediction in <a href="#labelFeature" class="param">labelFeature</a> either in the asserted candidate, or a new tuple for generated candidates. *REBERTPredict* does not create tuples for negative predictions unless <a href="#createNegativeTuples" class="param">createNegativeTuples</a> .

## Snippet



<button class="copy-code-button" title="Copy to clipboard" onclick="copy_code(this)">ðŸ“‹</button>
```xml
<rebertpredict class="REBERTPredict">
    <finetunedModel></finetunedModel>
    <modelType></modelType>
    <rebertDir></rebertDir>
</rebertpredict>
```

## Mandatory parameters

<h3 id="finetunedModel" class="param">finetunedModel</h3>

<div class="param-level param-level-mandatory">Mandatory
</div>
<div class="param-type">Type: <a href="../converter/fr.inra.maiage.bibliome.util.files.InputDirectory" class="converter">InputDirectory</a>
</div>
Path to the directory containing the models finetuned with RE-BERT.

<h3 id="modelType" class="param">modelType</h3>

<div class="param-level param-level-mandatory">Mandatory
</div>
<div class="param-type">Type: <a href="../converter/java.lang.String" class="converter">String</a>
</div>
BERT variant ( *bert* , *biobert* , *scibert* ).

<h3 id="rebertDir" class="param">rebertDir</h3>

<div class="param-level param-level-mandatory">Mandatory
</div>
<div class="param-type">Type: <a href="../converter/fr.inra.maiage.bibliome.util.files.InputDirectory" class="converter">InputDirectory</a>
</div>
Path to RE-BERT directory.

## Optional parameters

<h3 id="assertedCandidates" class="param">assertedCandidates</h3>

<div class="param-level param-level-optional">Optional
</div>
<div class="param-type">Type: <a href="../converter/fr.inra.maiage.bibliome.alvisnlp.core.corpus.expressions.Expression" class="converter">Expression</a>
</div>
Asserted candidates. The expression is evaluatd as a list of elements from the corpus.

<h3 id="assertedObject" class="param">assertedObject</h3>

<div class="param-level param-level-optional">Optional
</div>
<div class="param-type">Type: <a href="../converter/fr.inra.maiage.bibliome.alvisnlp.core.corpus.expressions.Expression" class="converter">Expression</a>
</div>
Object (right) argument of asserted candidates. The expression is evaluated as a single element from the asserted candidate element (see <a href="#assertedCandidates" class="param">assertedCandidates</a> ).

<h3 id="assertedSubject" class="param">assertedSubject</h3>

<div class="param-level param-level-optional">Optional
</div>
<div class="param-type">Type: <a href="../converter/fr.inra.maiage.bibliome.alvisnlp.core.corpus.expressions.Expression" class="converter">Expression</a>
</div>
Subject (left) argument of asserted candidates. The expression is evaluated as a single element from the asserted candidate element (see <a href="#assertedCandidates" class="param">assertedCandidates</a> ).

<h3 id="candidateGenerationScope" class="param">candidateGenerationScope</h3>

<div class="param-level param-level-optional">Optional
</div>
<div class="param-type">Type: <a href="../converter/fr.inra.maiage.bibliome.alvisnlp.core.corpus.expressions.Expression" class="converter">Expression</a>
</div>
Scopes for the generated candidates. The expression is evaluated as a list of elements from the corpus.

<h3 id="conda" class="param">conda</h3>

<div class="param-level param-level-optional">Optional
</div>
<div class="param-type">Type: <a href="../converter/fr.inra.maiage.bibliome.util.files.ExecutableFile" class="converter">ExecutableFile</a>
</div>
Path to a conda executable. If not set, then *REBERTPredict* uses the conda from the environment PATH.

<h3 id="condaEnvironment" class="param">condaEnvironment</h3>

<div class="param-level param-level-optional">Optional
</div>
<div class="param-type">Type: <a href="../converter/java.lang.String" class="converter">String</a>
</div>
Name of the conda environment. If this parameter is set, then RE-BERT will be executed under a Conda environment.

<h3 id="constantRelationFeatures" class="param">constantRelationFeatures</h3>

<div class="param-level param-level-optional">Optional
</div>
<div class="param-type">Type: <a href="../converter/fr.inra.maiage.bibliome.alvisnlp.core.module.types.Mapping" class="converter">Mapping</a>
</div>
Constant features to add to each relation created by this module.

<h3 id="constantTupleFeatures" class="param">constantTupleFeatures</h3>

<div class="param-level param-level-optional">Optional
</div>
<div class="param-type">Type: <a href="../converter/fr.inra.maiage.bibliome.alvisnlp.core.module.types.Mapping" class="converter">Mapping</a>
</div>
Constant features to add to each tuple created by this module.

<h3 id="explainFeaturePrefix" class="param">explainFeaturePrefix</h3>

<div class="param-level param-level-optional">Optional
</div>
<div class="param-type">Type: <a href="../converter/java.lang.String" class="converter">String</a>
</div>
Prefix for additional features ( *e.g.* number of votes, probability).

<h3 id="generatedObjects" class="param">generatedObjects</h3>

<div class="param-level param-level-optional">Optional
</div>
<div class="param-type">Type: <a href="../converter/fr.inra.maiage.bibliome.alvisnlp.core.corpus.expressions.Expression" class="converter">Expression</a>
</div>
Object (right) arguments of generated candidates within a scope. This expression is evaluated as a list of elements from the scope element.

<h3 id="generatedSubjects" class="param">generatedSubjects</h3>

<div class="param-level param-level-optional">Optional
</div>
<div class="param-type">Type: <a href="../converter/fr.inra.maiage.bibliome.alvisnlp.core.corpus.expressions.Expression" class="converter">Expression</a>
</div>
Subject (left) arguments of generated candidates within a scope. This expression is evaluated as a list of elements from the scope element.

<h3 id="python" class="param">python</h3>

<div class="param-level param-level-optional">Optional
</div>
<div class="param-type">Type: <a href="../converter/fr.inra.maiage.bibliome.util.files.ExecutableFile" class="converter">ExecutableFile</a>
</div>
Path to the Python interpreter. If not set, then *REBERTPredict* will use the Python interpreter from the *PATH* environment variable.

<h3 id="relation" class="param">relation</h3>

<div class="param-level param-level-optional">Optional
</div>
<div class="param-type">Type: <a href="../converter/java.lang.String" class="converter">String</a>
</div>
Name of the relation for generated candidates.

<h3 id="aggregator" class="param">aggregator</h3>

<div class="param-level param-level-default-value">Default value: `vote`
</div>
<div class="param-type">Type: <a href="../converter/fr.inra.maiage.bibliome.alvisnlp.bibliomefactory.modules.rebert.EnsembleAggregator" class="converter">EnsembleAggregator</a>
</div>
Aggregation method of predictions of all ensemble models. Only *vote* is available.

<h3 id="createAssertedTuples" class="param">createAssertedTuples</h3>

<div class="param-level param-level-default-value">Default value: `false`
</div>
<div class="param-type">Type: <a href="../converter/java.lang.Boolean" class="converter">Boolean</a>
</div>
If set to *true* , then *REBERTPredict* creates a tuple even for asserted candidates. <a href="#labelFeature" class="param">labelFeature</a> will be set on the created tuple instead of the asserted candidate element.

<h3 id="createNegativeTuples" class="param">createNegativeTuples</h3>

<div class="param-level param-level-default-value">Default value: `false`
</div>
<div class="param-type">Type: <a href="../converter/java.lang.Boolean" class="converter">Boolean</a>
</div>
If set to *true* , then *REBERTPredict* creates a tuple even for generated candidates predicted as negative.

<h3 id="end" class="param">end</h3>

<div class="param-level param-level-default-value">Default value: `end`
</div>
<div class="param-type">Type: <a href="../converter/fr.inra.maiage.bibliome.alvisnlp.core.corpus.expressions.Expression" class="converter">Expression</a>
</div>
End position of candidates (asserted and generated). This expression is evaluated as an integer from the candidate element.

<h3 id="ensembleNumber" class="param">ensembleNumber</h3>

<div class="param-level param-level-default-value">Default value: `1`
</div>
<div class="param-type">Type: <a href="../converter/java.lang.Integer" class="converter">Integer</a>
</div>
Number of models that make a prediction. The value must be lower or equal to the number of models finetuned.

<h3 id="labelFeature" class="param">labelFeature</h3>

<div class="param-level param-level-default-value">Default value: `predicted-label`
</div>
<div class="param-type">Type: <a href="../converter/java.lang.String" class="converter">String</a>
</div>
Feature where to store the predicted category.

<h3 id="negativeCategory" class="param">negativeCategory</h3>

<div class="param-level param-level-default-value">Default value: `0`
</div>
<div class="param-type">Type: <a href="../converter/java.lang.Integer" class="converter">Integer</a>
</div>
Category that is considered negative (no relation).

<h3 id="objectRole" class="param">objectRole</h3>

<div class="param-level param-level-default-value">Default value: `object`
</div>
<div class="param-type">Type: <a href="../converter/java.lang.String" class="converter">String</a>
</div>
Name of the object (right) argument in tuples created for generated candidates.

<h3 id="sentenceLayer" class="param">sentenceLayer</h3>

<div class="param-level param-level-default-value">Default value: `sentences`
</div>
<div class="param-type">Type: <a href="../converter/java.lang.String" class="converter">String</a>
</div>
Layer containing sentences.

<h3 id="start" class="param">start</h3>

<div class="param-level param-level-default-value">Default value: `start`
</div>
<div class="param-type">Type: <a href="../converter/fr.inra.maiage.bibliome.alvisnlp.core.corpus.expressions.Expression" class="converter">Expression</a>
</div>
Start position of candidates (asserted and generated). This expression is evaluated as an integer from the candidate element.

<h3 id="subjectRole" class="param">subjectRole</h3>

<div class="param-level param-level-default-value">Default value: `subject`
</div>
<div class="param-type">Type: <a href="../converter/java.lang.String" class="converter">String</a>
</div>
Name of the subject (left) argument in tuples created for generated candidates.

<h3 id="useGPU" class="param">useGPU</h3>

<div class="param-level param-level-default-value">Default value: `false`
</div>
<div class="param-type">Type: <a href="../converter/java.lang.Boolean" class="converter">Boolean</a>
</div>
Use GPU instead of CPU.

## Deprecated parameters

<h3 id="relationName" class="param">relationName</h3>

<div class="param-level param-level-deprecated">Deprecated
</div>
<div class="param-type">Type: <a href="../converter/java.lang.String" class="converter">String</a>
</div>
Deprecated alias for <a href="#relation" class="param">relation</a> .

