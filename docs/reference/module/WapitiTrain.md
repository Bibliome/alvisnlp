<h1 class="module">WapitiTrain</h1>

## Synopsis

Train a CRF model using [Wapiti](https://wapiti.limsi.fr/) .

**This module is experimental.**

## Description

 *WapitiTrain* trains a CRF sequence tagging model using [Wapiti](https://wapiti.limsi.fr/) . The sequences are generated by annotations in <a href="#tokenLayerName" class="param">tokenLayerName</a> segmented with annotations in <a href="#sentenceLayerName" class="param">sentenceLayerName</a> .

The trained model is written in <a href="#modelFile" class="param">modelFile</a> . Use this model with <a href="../module/WapitiLabel" class="module">WapitiLabel</a> to run predictions on unlabelled sequences.

Wapiti requires a set of patterns that specify the dependencies of each token. The patterns are specified in the file <a href="#patternFile" class="param">patternFile</a> in the [CRF++ template language](https://taku910.github.io/crfpp/#templ) .

## Snippet



<button class="copy-code-button" title="Copy to clipboard" onclick="copy_code(this)">ðŸ“‹</button>
```xml
<wapititrain class="WapitiTrain>
    <features></features>
    <modelFile></modelFile>
    <wapitiExecutable></wapitiExecutable>
</wapititrain>
```

## Mandatory parameters

<h3 id="features" class="param">features</h3>

<div class="param-level param-level-mandatory">Mandatory
</div>
<div class="param-type">Type: <a href="../converter/fr.inra.maiage.bibliome.alvisnlp.core.corpus.expressions.Expression%5B%5D" class="converter">Expression[]</a>
</div>
A list of expressions evaluated as strings from the token annotation. The result represents the set of features of each token. For the training phase, the last feature is the label.

<h3 id="modelFile" class="param">modelFile</h3>

<div class="param-level param-level-mandatory">Mandatory
</div>
<div class="param-type">Type: <a href="../converter/fr.inra.maiage.bibliome.util.files.OutputFile" class="converter">OutputFile</a>
</div>
Path of the trained model file.

<h3 id="wapitiExecutable" class="param">wapitiExecutable</h3>

<div class="param-level param-level-mandatory">Mandatory
</div>
<div class="param-type">Type: <a href="../converter/fr.inra.maiage.bibliome.util.files.ExecutableFile" class="converter">ExecutableFile</a>
</div>
Path to the `wapiti` executable.

## Optional parameters

<h3 id="commandLineOptions" class="param">commandLineOptions</h3>

<div class="param-level param-level-optional">Optional
</div>
<div class="param-type">Type: <a href="../converter/java.lang.String%5B%5D" class="converter">String[]</a>
</div>
Additional command line options to pass to `wapiti` . See the [Wapiti manual](https://wapiti.limsi.fr/manual.html) for the list of options. Note that options `mode` , `-T` , `-a` , `-p` , `-m` are set automatically by *WapitiTrain* .

<h3 id="modelType" class="param">modelType</h3>

<div class="param-level param-level-optional">Optional
</div>
<div class="param-type">Type: <a href="../converter/java.lang.String" class="converter">String</a>
</div>
Model type. [Allowed values](https://wapiti.limsi.fr/manual.html#description) are: *maxent* , *memm* , *crf* (default).

<h3 id="patternFile" class="param">patternFile</h3>

<div class="param-level param-level-optional">Optional
</div>
<div class="param-type">Type: <a href="../converter/fr.inra.maiage.bibliome.util.files.InputFile" class="converter">InputFile</a>
</div>
Pattern file that specifies token dependencies.

<h3 id="trainAlgorithm" class="param">trainAlgorithm</h3>

<div class="param-level param-level-optional">Optional
</div>
<div class="param-type">Type: <a href="../converter/java.lang.String" class="converter">String</a>
</div>
Training algorithm. [Allowed values](https://wapiti.limsi.fr/manual.html#description) are: *l-bfgs* (default), *sgd-l1* , *bcd* , *rprop* , *rprop+* , *rprop-* .

<h3 id="documentFilter" class="param">documentFilter</h3>

<div class="param-level param-level-default-value">Default value: `true`
</div>
<div class="param-type">Type: <a href="../converter/fr.inra.maiage.bibliome.alvisnlp.core.corpus.expressions.Expression" class="converter">Expression</a>
</div>
Only process document that satisfy this expression.

<h3 id="sectionFilter" class="param">sectionFilter</h3>

<div class="param-level param-level-default-value">Default value: `true and layer:words`
</div>
<div class="param-type">Type: <a href="../converter/fr.inra.maiage.bibliome.alvisnlp.core.corpus.expressions.Expression" class="converter">Expression</a>
</div>
Process only sections that satisfy this expression.

<h3 id="sentenceLayerName" class="param">sentenceLayerName</h3>

<div class="param-level param-level-default-value">Default value: `sentences`
</div>
<div class="param-type">Type: <a href="../converter/java.lang.String" class="converter">String</a>
</div>
Layer containing sentence annotations.

<h3 id="tokenLayerName" class="param">tokenLayerName</h3>

<div class="param-level param-level-default-value">Default value: `words`
</div>
<div class="param-type">Type: <a href="../converter/java.lang.String" class="converter">String</a>
</div>
Layer containing token annotations.

